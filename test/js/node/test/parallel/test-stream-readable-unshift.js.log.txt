60 |     const encodings = ['utf8', 'binary', 'hex', 'base64'];
61 |     const expected = [];
62 | 
63 |     readable.on('data', common.mustCall((chunk) => {
64 |       const { encoding, string } = expected.pop();
65 |       assert.strictEqual(chunk.toString(encoding), string);
                  ^
AssertionError: Expected values to be strictly equal:
+ actual - expected

+ 'abc='
- 'abc'
      ^
 code: "ERR_ASSERTION"

      at /Users/bun/code/bun/test/js/node/test/parallel/test-stream-readable-unshift.js:65:14
      at emit (node:events:74:48)
      at internal:streams/readable:468:35
      at flow (internal:streams/readable:862:14)
      at resume_ (internal:streams/readable:839:17)
      at processTicksAndRejections (native:7:39)
94 |   const encoding = 'base64';
95 | 
96 |   function checkEncoding(readable) {
97 |     const string = 'abc';
98 |     readable.on('data', common.mustCall((chunk) => {
99 |       assert.strictEqual(chunk, Buffer.from(string).toString(encoding));
                  ^
AssertionError: Expected values to be strictly equal:
+ actual - expected

+ Buffer(3) [Uint8Array] [
+   97,
+   98,
+   99
+ ]
- 'YWJj'
 code: "ERR_ASSERTION"

      at /Users/bun/code/bun/test/js/node/test/parallel/test-stream-readable-unshift.js:99:14
      at emit (node:events:74:48)
      at internal:streams/readable:468:35
      at flow (internal:streams/readable:862:14)
      at resume_ (internal:streams/readable:839:17)
      at processTicksAndRejections (native:7:39)
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
Mismatched <anonymous> function calls. Expected exactly 4, actual 1.
    at checkEncoding (/Users/bun/code/bun/test/js/node/test/parallel/test-stream-readable-unshift.js:63:32)
    at <anonymous> (/Users/bun/code/bun/test/js/node/test/parallel/test-stream-readable-unshift.js:84:3)
    at parseModule (native)
    at <anonymous> (native:11:43)
    at asyncFunctionResume (native:1:11)
    at promiseReactionJobWithoutPromiseUnwrapAsyncContext (native:1:11)
    at promiseReactionJob (native:1:11) {
  originalLine: 271,
  originalColumn: 22
}
Mismatched <anonymous> function calls. Expected exactly 2, actual 1.
    at checkEncoding (/Users/bun/code/bun/test/js/node/test/parallel/test-stream-readable-unshift.js:98:32)
    at <anonymous> (/Users/bun/code/bun/test/js/node/test/parallel/test-stream-readable-unshift.js:108:3)
    at parseModule (native)
    at <anonymous> (native:11:43)
    at asyncFunctionResume (native:1:11)
    at promiseReactionJobWithoutPromiseUnwrapAsyncContext (native:1:11)
    at promiseReactionJob (native:1:11) {
  originalLine: 271,
  originalColumn: 22
}
